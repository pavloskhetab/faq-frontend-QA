{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\faq-frontend\\\\src\\\\Components\\\\AnswerPage.component.js\";\nimport React from 'react';\nimport { Button } from 'react-bootstrap';\nimport './css/FAQ.css';\nimport AnswerQuestionsModal from './AnswerModal.component';\nimport CommentModal from './CommentModal.component';\nimport { TextArea } from 'semantic-ui-react';\nexport default class Answer extends React.Component {\n  constructor() {\n    super();\n\n    this.handleButtonToggleAnswerModal = toggle => {\n      this.setState({\n        showModal1: toggle\n      });\n    };\n\n    this.handleButtonToggleCommentModal = toggle => {\n      this.setState({\n        showModal: toggle\n      });\n    };\n\n    this.textAnswer = () => {\n      return React.createElement(TextArea, {\n        style: {\n          maxWidth: '100%',\n          minWidth: '100%'\n        },\n        id: \"textAnswer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      });\n    };\n\n    this.textComment = () => {\n      return React.createElement(TextArea, {\n        style: {\n          maxWidth: '100%',\n          minWidth: '100%'\n        },\n        id: \"textComment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      });\n    };\n\n    this.editAnswer = (spanid, answer) => {\n      var ref = document.getElementById(\"answer\" + spanid);\n      ref.innerHTML = \"\";\n      var refTextInput = document.createElement(\"TextArea\");\n      var refConfirmButton = document.createElement(\"input\");\n      refConfirmButton.type = \"Button\";\n      refConfirmButton.value = \"Confirm\";\n      refConfirmButton.className = \"EditConfirm\";\n      refConfirmButton.addEventListener(\"click\", function () {\n        let data = {\n          \"a_id\": spanid,\n          \"updA\": refTextInput.value\n        };\n        fetch(\"http://localhost:4001/Answers/UpdateA\", {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        });\n        window.location.replace(\"http://localhost:3000/answer\");\n      });\n      refTextInput.style.minWidth = \"60%\";\n      refTextInput.style.maxWidth = \"60%\";\n      refTextInput.style.marginLeft = \"80px\";\n      refTextInput.value = answer;\n      ref.appendChild(refTextInput);\n      ref.appendChild(refConfirmButton);\n    };\n\n    this.componentDidMount = async () => {\n      let Alpha = \"\";\n      let Beta = \"\";\n      var q_id = sessionStorage.getItem('q_id');\n      await fetch(\"http://localhost:4001/Answers/RecentA/\".concat(q_id)).then(response => response.json()).then(data => {\n        Alpha = data;\n      });\n      await fetch(\"http://localhost:4001/Answers/CountA/\".concat(q_id)) //Url from backend\n      .then(response => response.json()).then(data => {\n        Beta = data[0].hits;\n      });\n      await fetch(\"http://localhost:4001/Comments/GetC/\".concat(q_id)).then(response => response.json()).then(dataC => {\n        this.setState({\n          RecentC: dataC,\n          RecentA: Alpha,\n          CountA: Beta\n        });\n      });\n    };\n\n    this.state = {\n      RecentA: [],\n      RecentC: [],\n      showIssueModal: true\n    };\n  }\n\n  answerStorage(a_id) {\n    sessionStorage.setItem('a_id', a_id);\n    this.handleButtonToggleCommentModal(true);\n  }\n\n  answerStorage2(a_id) {\n    var a_id = sessionStorage.setItem('a_id', a_id);\n    this.removeAnswer();\n  }\n\n  removeAnswer() {\n    var a_id = sessionStorage.getItem('a_id');\n    fetch(\"http://localhost:4001/Answers/DelA/\" + a_id, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        console.log('Answer Deleted');\n        window.location.reload();\n      } else {\n        alert('Failed to delete answer');\n      }\n\n      ;\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"body\", {\n      id: \"page-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      class: \"navbar navbar-expand-lg fixed-top\",\n      id: \"mainNav\",\n      className: \"FAQHeader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"navbar-brand js-scroll-trigger\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"Nationwide.png\",\n      width: \"50\",\n      height: \"50\",\n      alt: \"Nationwide Logo\",\n      style: {\n        borderRadius: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"danger\",\n      onClick: () => this.handleButtonToggleAnswerModal(true),\n      style: {\n        height: '25px',\n        paddingTop: '0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Answer Question\"), React.createElement(AnswerQuestionsModal, {\n      content: this.textAnswer(),\n      title: \"Answer Question\",\n      showModal1: this.state.showModal1,\n      close: () => this.handleButtonToggleAnswerModal(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"collapse navbar-collapse\",\n      id: \"navbarResponsive\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      className: \"QuestionSubheading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Question:\"), React.createElement(\"h4\", {\n      className: \"QuestionHeading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \" \", sessionStorage.getItem('questions')), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"container site-container\",\n      style: {\n        marginTop: '0px',\n        marginBottom: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"AnswersSubheading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Answers (\", this.state.CountA, \"): \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"Separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), this.state.RecentA.map(data => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      id: 'answer' + data.a_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \" \", React.createElement(\"text\", {\n      className: \"EditAnswerText\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, data.answer)), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: () => this.editAnswer(data.a_id, data.answer),\n      style: {\n        marginLeft: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Edit\"), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: () => this.answerStorage2(data.a_id),\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"primary\",\n      className: \"VoteUp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        marginBottom: '3px'\n      },\n      class: \"arrow up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"danger\",\n      className: \"VoteDown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        marginBottom: '7px'\n      },\n      class: \"arrow down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })), \"(rating)\", React.createElement(Button, {\n      variant: \"primary\",\n      size: \"sm\",\n      onClick: () => this.answerStorage(data.a_id),\n      className: \"CommentButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Add Comment\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      className: \"AnswerCommentSeparator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), this.state.RecentC.map(RecentC => {\n      console.log(data.a_id + \"...\" + RecentC.a_id);\n\n      if (data.a_id == RecentC.a_id) {\n        var element = React.createElement(\"span\", {\n          id: 'comment' + RecentC.c_id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, \" \", React.createElement(\"text\", {\n          className: \"CommentText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        }, RecentC.comment));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, element);\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      className: \"Separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    })))))), React.createElement(CommentModal, {\n      content: this.textComment(),\n      title: \"Add A Comment\",\n      showModal: this.state.showModal,\n      close: () => this.handleButtonToggleCommentModal(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"footer\", {\n      class: \"py-1 sticky-bottom footer\",\n      className: \"FAQFooter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      class: \"m-0 text-center text-black\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Copyright \\xA9 Max Hand 2019\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/admin/Desktop/faq-frontend/src/Components/AnswerPage.component.js"],"names":["React","Button","AnswerQuestionsModal","CommentModal","TextArea","Answer","Component","constructor","handleButtonToggleAnswerModal","toggle","setState","showModal1","handleButtonToggleCommentModal","showModal","textAnswer","maxWidth","minWidth","textComment","editAnswer","spanid","answer","ref","document","getElementById","innerHTML","refTextInput","createElement","refConfirmButton","type","value","className","addEventListener","data","fetch","method","headers","body","JSON","stringify","window","location","replace","style","marginLeft","appendChild","componentDidMount","Alpha","Beta","q_id","sessionStorage","getItem","then","response","json","hits","dataC","RecentC","RecentA","CountA","state","showIssueModal","answerStorage","a_id","setItem","answerStorage2","removeAnswer","status","console","log","reload","alert","render","borderRadius","height","paddingTop","marginTop","marginBottom","map","marginRight","element","c_id","comment"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport './css/FAQ.css'\r\nimport AnswerQuestionsModal from './AnswerModal.component'\r\nimport CommentModal from './CommentModal.component'\r\nimport { TextArea } from 'semantic-ui-react'\r\n\r\nexport default class Answer extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            RecentA: [],\r\n            RecentC: [],\r\n            showIssueModal: true\r\n        }\r\n    }\r\n\r\n    answerStorage(a_id) {\r\n        sessionStorage.setItem('a_id', a_id)\r\n        this.handleButtonToggleCommentModal(true)\r\n    }\r\n    handleButtonToggleAnswerModal = (toggle) => {\r\n        this.setState({\r\n            showModal1: toggle\r\n        });\r\n    }\r\n    handleButtonToggleCommentModal = (toggle) => {\r\n        this.setState({\r\n            showModal: toggle\r\n        });\r\n    }\r\n\r\n    textAnswer = () => {\r\n        return (\r\n            <TextArea style={{ maxWidth: '100%', minWidth: '100%' }} id=\"textAnswer\" />\r\n        );\r\n    }\r\n\r\n    textComment = () => {\r\n        return (\r\n            <TextArea style={{ maxWidth: '100%', minWidth: '100%' }} id=\"textComment\" />\r\n        );\r\n    }\r\n\r\n    editAnswer = (spanid, answer, ) => {\r\n\r\n        var ref = document.getElementById(\"answer\" + spanid)\r\n        ref.innerHTML = \"\"\r\n        var refTextInput = document.createElement(\"TextArea\");\r\n        var refConfirmButton = document.createElement(\"input\");\r\n        refConfirmButton.type = \"Button\"\r\n        refConfirmButton.value = \"Confirm\"\r\n        refConfirmButton.className = \"EditConfirm\"\r\n        refConfirmButton.addEventListener(\"click\", function () {\r\n            let data = {\r\n                \"a_id\": spanid,\r\n                \"updA\": refTextInput.value\r\n            }\r\n            fetch(`http://localhost:4001/Answers/UpdateA`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            window.location.replace(`http://localhost:3000/answer`)\r\n        })\r\n        refTextInput.style.minWidth = \"60%\"\r\n        refTextInput.style.maxWidth = \"60%\"\r\n        refTextInput.style.marginLeft = \"80px\"\r\n        refTextInput.value = answer\r\n        ref.appendChild(refTextInput)\r\n        ref.appendChild(refConfirmButton)\r\n    }\r\n\r\n\r\n    componentDidMount = async () => {\r\n        let Alpha = \"\"\r\n        let Beta = \"\"\r\n        var q_id = sessionStorage.getItem('q_id');\r\n        await fetch(`http://localhost:4001/Answers/RecentA/${q_id}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                Alpha = data\r\n            })\r\n\r\n        await fetch(`http://localhost:4001/Answers/CountA/${q_id}`)\r\n            //Url from backend\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                Beta = data[0].hits\r\n                \r\n            })\r\n        await fetch(`http://localhost:4001/Comments/GetC/${q_id}`)\r\n            .then(response => response.json())\r\n            .then(dataC => {\r\n\r\n                this.setState({\r\n                    RecentC: dataC,\r\n                    RecentA: Alpha,\r\n                    CountA: Beta\r\n                })\r\n            })\r\n\r\n    }\r\n\r\n    answerStorage2(a_id) {\r\n        var a_id = sessionStorage.setItem('a_id', a_id);\r\n        this.removeAnswer()\r\n    }\r\n    removeAnswer() {\r\n        var a_id = sessionStorage.getItem('a_id');\r\n        fetch(`http://localhost:4001/Answers/DelA/` + a_id, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    console.log('Answer Deleted');\r\n                    window.location.reload();\r\n                } else {\r\n                    alert('Failed to delete answer');\r\n                };\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <body id=\"page-top\">\r\n                    <nav class=\"navbar navbar-expand-lg fixed-top\" id=\"mainNav\" className='FAQHeader'>\r\n                        <div class=\"container\">\r\n                            <a class=\"navbar-brand js-scroll-trigger\" href=\"/\"><img\r\n                                src=\"Nationwide.png\"\r\n                                width=\"50\"\r\n                                height=\"50\"\r\n                                alt=\"Nationwide Logo\"\r\n                                style={{ borderRadius: '25px' }} /></a>\r\n                            <Button variant='danger' onClick={() => this.handleButtonToggleAnswerModal(true)} style={{ height: '25px', paddingTop: '0' }}>Answer Question</Button>\r\n                            <AnswerQuestionsModal content={this.textAnswer()} title={\"Answer Question\"} showModal1={this.state.showModal1} close={() => this.handleButtonToggleAnswerModal(false)} />\r\n                            <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                </body>\r\n                <br />\r\n                <h3 className='QuestionSubheading'>Question:\r\n                </h3>\r\n                <h4 className='QuestionHeading'> {sessionStorage.getItem('questions')}</h4><br />\r\n                <div class=\"container site-container\" style={{ marginTop: '0px', marginBottom: '30px' }}>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-lg-12\">\r\n                            <h4 className='AnswersSubheading'>Answers ({this.state.CountA}): </h4><br />\r\n                            <div className='Separator'>\r\n                                <hr />\r\n                            </div>\r\n                            {\r\n                                this.state.RecentA.map((data) =>\r\n                                    <div>\r\n                                        <span id={'answer' + data.a_id}> <text className='EditAnswerText'>{data.answer}</text></span>\r\n\r\n                                        <a href='#' onClick={() => this.editAnswer(data.a_id, data.answer)} style={{ marginLeft: '20px' }}>Edit</a>\r\n                                        <a href='#' onClick={() => this.answerStorage2(data.a_id)} style={{ marginLeft: '20px', marginRight: '20px' }}>Delete</a>\r\n                                        <br /><br />\r\n                                        <Button variant='primary' className='VoteUp'><i style={{ marginBottom: '3px' }} class=\"arrow up\"></i></Button>\r\n                                        <Button variant='danger' className='VoteDown'><i style={{ marginBottom: '7px' }} class=\"arrow down\"></i></Button>\r\n                                        (rating)\r\n                                        <Button variant='primary' size='sm' onClick={() => this.answerStorage(data.a_id)} className='CommentButton'>Add Comment</Button><br /><br />\r\n                                        <hr className='AnswerCommentSeparator' />\r\n                                        <br />\r\n                                        {\r\n                                            this.state.RecentC.map((RecentC) => {\r\n                                                console.log(data.a_id + \"...\" + RecentC.a_id)\r\n                                                if (data.a_id == RecentC.a_id) {\r\n                                                    var element = <span id={'comment' + RecentC.c_id}> <text className='CommentText'>{RecentC.comment}</text></span>\r\n                                                }\r\n                                                return (\r\n                                                    <div>\r\n                                                        {element}\r\n                                                    </div>\r\n\r\n                                                )\r\n                                            }\r\n                                            )\r\n                                        }\r\n                                        <br /><br />\r\n                                        <hr className='Separator' />\r\n\r\n                                    </div>\r\n                                )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <CommentModal content={this.textComment()} title={\"Add A Comment\"} showModal={this.state.showModal} close={() => this.handleButtonToggleCommentModal(false)} />\r\n                <footer class=\"py-1 sticky-bottom footer\" className='FAQFooter'>\r\n                    <div class=\"container\">\r\n                        <p class=\"m-0 text-center text-black\">Copyright &copy; Max Hand 2019</p>\r\n                    </div>\r\n                </footer>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}